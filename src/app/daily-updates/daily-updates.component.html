<div class="top-menu">
  <img src="../../assets/logo.jpg" alt="logo" />
</div>
<ul class="nav nav-tabs" id="myTab" role="tablist">
  <li class="nav-item active waves-effect waves-right">
    <a
      class="nav-link active"
      id="home-tab"
      data-toggle="tab"
      href="#home"
      role="tab"
      aria-controls="home"
      aria-selected="false"
      >Daily Updates</a
    >
  </li>
  <li class="nav-item waves-effect waves-light">
    <a
      class="nav-link"
      id="profile-tab"
      data-toggle="tab"
      href="#profile"
      role="tab"
      aria-controls="profile"
      aria-selected="true"
      >Request For Leave</a
    >
  </li>
</ul>

<div class="tab-content" id="myTabContent">
  <div
    class="tab-pane fade active show"
    id="home"
    role="tabpanel"
    aria-labelledby="home-tab"
  >
    <div class="update-label">
      <h2>I'm here to write daily update.</h2>
    </div>
    <section class="background-img">
      <div class="container">
        <div class="row mb-4 d-flex">
          <div class="col-md-6">
            <form [formGroup]="dailyUpdates">
              <div class="row">
                <div class="col-lg-6">
                  <div class="form-group">
                    <label class="form-label">Client Name</label>
                    <input
                      type="text"
                      class="form-control"
                      name="clientName"
                      placeholder="Enter Client Name"
                      formControlName="clientName"
                      id="clientName"
                    />
                  </div>
                </div>

                <div class="col-lg-6">
                  <div class="form-group">
                    <label class="form-label">Project Name</label>
                    <input
                      type="text"
                      class="form-control"
                      name="projectName"
                      placeholder="Enter Project Name"
                      formControlName="projectName"
                      id="projectName"
                    />
                  </div>
                </div>
              </div>

              <div class="form-group position-relative">
                <label class="form-label">List of Completed Tasks :</label>
                <div class="multi-field-wrapper">
                  <div class="multi-fields" formArrayName="completeTask">
                    <ng-container
                      *ngFor="let task of completeTasks.controls; let i = index"
                    >
                      <div class="multi-field" [formGroupName]="i">
                        <input
                          type="text"
                          name="completedtasks"
                          class="form-control custom-input list_of_completed_tasks"
                          placeholder="Completed task"
                          formControlName="completeingTask"
                        />
                        <button
                          type="button"
                          class="custom-btn remove-field rct"
                          [ngStyle]="{
                            display: toggle && completeTasks.controls.length > 1 ? 'block' : 'none'
                          }"
                          (click)="
                            removeOrClearCompletingTask(i, 'addCompleteTask')
                          "
                        >
                          <i class="fas fa-trash"></i>
                        </button>
                        <button
                          type="button"
                          class="custom-add-btn add-field ml-2"
                          (click)="
                            completeTaskValidation(i).controls[
                              'completeingTask'
                            ].dirty &&
                            dailyUpdatesControls['completeTask'].valid
                              ? onAddTaks('addCompleteTask')
                              : (completed = true)
                          "
                        >
                          <i class="fas fa-plus"></i>
                        </button>
                        <br />
                      </div>
                      <ng-container
                        *ngIf="
                          (completed &&
                            completeTaskValidation(i).controls[
                              'completeingTask'
                            ].pristine && completeTaskValidation(i).controls[
                            'completeingTask'
                          ].invalid) ||
                          (completeTaskValidation(i).controls['completeingTask']
                            .touched &&
                            completeTaskValidation(i).controls[
                              'completeingTask'
                            ].invalid &&
                            completeTaskValidation(i).controls[
                              'completeingTask'
                            ].pristine)
                        "
                      >
                        <p class="err_list_of_completed_tasks text-danger">
                          Please fill this first
                        </p>
                      </ng-container>
                    </ng-container>
                  </div>
                </div>
              </div>

              <div class="form-group position-relative">
                <label class="form-label">List of In-Progress Tasks:</label>
                <div class="multi-field-wrapper">
                  <div class="multi-fields" formArrayName="inProgressTask">
                    <ng-container
                      *ngFor="
                        let task of inProgressTasks.controls;
                        let i = index
                      "
                    >
                      <div class="multi-field" [formGroupName]="i">
                        <input
                          type="text"
                          name="inprogress_tasks[]"
                          class="form-control custom-input list_of_in_progress_tasks"
                          placeholder="In-progress task"
                          formControlName="inProgressingTask"
                        />
                        <button
                          type="button"
                          class="custom-btn remove-field rct"
                          [ngStyle]="{
                            display: toggle && inProgressTasks.controls.length > 1 ? 'block' : 'none'
                          }"
                          (click)="
                            removeOrClearCompletingTask(i, 'addInProgressTask')
                          "
                        >
                          <i class="fas fa-trash"></i>
                        </button>
                        <button
                          type="button"
                          class="custom-add-btn add-field ml-2"
                          (click)="
                            inProgressTaskValidation(i).controls[
                              'inProgressingTask'
                            ].dirty &&
                            dailyUpdatesControls['inProgressTask'].valid
                              ? onAddTaks('addInProgressTask')
                              : (inprogressed = true)
                          "
                        >
                          <i class="fas fa-plus"></i>
                        </button>
                      </div>
                      <ng-container
                        *ngIf="
                          (inprogressed &&
                            inProgressTaskValidation(i).controls[
                              'inProgressingTask'
                            ].pristine) ||
                          (inProgressTaskValidation(i).controls[
                            'inProgressingTask'
                          ].touched &&
                            inProgressTaskValidation(i).controls[
                              'inProgressingTask'
                            ].invalid &&
                            inProgressTaskValidation(i).controls[
                              'inProgressingTask'
                            ].pristine)
                        "
                      >
                        <p class="err_list_of_completed_tasks text-danger">
                          Please fill this first
                        </p>
                      </ng-container>
                    </ng-container>
                  </div>

                  <p class="err_list_of_in_progress_tasks"></p>
                </div>
              </div>

              <div class="form-group position-relative">
                <label class="form-label">List of Pending Tasks:</label>
                <div class="multi-field-wrapper">
                  <div class="multi-fields" formArrayName="pendingTask">
                    <ng-container
                      *ngFor="let task of pendinged.controls; let i = index"
                    >
                      <div class="multi-field" [formGroupName]="i">
                        <input
                          type="text"
                          name="pending_tasks[]"
                          class="form-control custom-input list_of_pending_tasks"
                          placeholder="Pending task"
                          formControlName="pendingTasking"
                        />
                        <button
                          type="button"
                          class="custom-btn remove-field rct"
                          [ngStyle]="{
                            display: toggle && pendinged.controls.length > 1 ? 'block' : 'none'
                          }"
                          (click)="
                            removeOrClearCompletingTask(i, 'addPendingTask')
                          "
                        >
                          <i class="fas fa-trash"></i>
                        </button>
                        <button
                          type="button"
                          class="custom-add-btn add-field ml-2"
                          (click)="
                            pendingTaskValidation(i).controls['pendingTasking']
                              .dirty &&
                            dailyUpdatesControls['pendingTask'].valid
                              ? onAddTaks('addPendingTask')
                              : (pendingTasked = true)
                          "
                        >
                          <i class="fas fa-plus"></i>
                        </button>
                      </div>
                      <ng-container
                        *ngIf="
                          (pendingTasked &&
                            pendingTaskValidation(i).controls['pendingTasking']
                              .pristine) ||
                          (pendingTaskValidation(i).controls['pendingTasking']
                            .touched &&
                            pendingTaskValidation(i).controls['pendingTasking']
                              .invalid &&
                            pendingTaskValidation(i).controls['pendingTasking']
                              .pristine)
                        "
                      >
                        <p class="err_list_of_pending_tasks text-danger">
                          Please fill this first
                        </p>
                      </ng-container>
                    </ng-container>
                  </div>
                </div>
              </div>

              <div class="form-group position-relative">
                <label class="form-label">Queries:</label>
                <div class="multi-field-wrapper">
                  <div class="multi-fields" formArrayName="queries">
                    <ng-container
                      *ngFor="let task of quered.controls; let i = index"
                    >
                      <div class="multi-field" [formGroupName]="i">
                        <input
                          type="text"
                          name="queries[]"
                          class="form-control custom-input queries"
                          placeholder="Queries"
                          formControlName="queriesTask"
                        />
                        <button
                          type="button"
                          class="custom-btn remove-field rct"
                          [ngStyle]="{
                            display: toggle && quered.controls.length > 1 ? 'block' : 'none'
                          }"
                          (click)="removeOrClearCompletingTask(i, 'addQueries')"
                        >
                          <i class="fas fa-trash"></i>
                        </button>
                        <button
                          type="button"
                          class="custom-add-btn add-field ml-2"
                          (click)="
                            queriesValidation(i).controls['queriesTask']
                              .dirty && dailyUpdatesControls['queries'].valid
                              ? onAddTaks('addQueries')
                              : (query = true)
                          "
                        >
                          <i class="fas fa-plus"></i>
                        </button>
                      </div>
                      <ng-container
                        *ngIf="
                          (query &&
                            queriesValidation(i).controls['queriesTask']
                              .pristine) ||
                          (queriesValidation(i).controls['queriesTask']
                            .touched &&
                            queriesValidation(i).controls['queriesTask']
                              .invalid &&
                            queriesValidation(i).controls['queriesTask']
                              .pristine)
                        "
                      >
                        <p class="err_list_of_pending_tasks text-danger">
                          Please fill this first
                        </p>
                      </ng-container>
                    </ng-container>
                  </div>
                </div>
              </div>

              <div class="form-group position-relative">
                <label class="form-label">Notes:</label>
                <div class="multi-field-wrapper">
                  <div class="multi-fields" formArrayName="notes">
                    <ng-container
                      *ngFor="let task of noted.controls; let i = index"
                    >
                      <div class="multi-field" [formGroupName]="i">
                        <input
                          type="text"
                          name="note"
                          class="form-control custom-input notes"
                          placeholder="Notes"
                          formControlName="noteTask"
                        />
                        <button
                          type="button"
                          class="custom-btn remove-field rct"
                          [ngStyle]="{
                            display: toggle && noted.controls.length > 1  ? 'block' : 'none'
                          }"
                          (click)="removeOrClearCompletingTask(i, 'addNote')"
                        >
                          <i class="fas fa-trash"></i>
                        </button>
                        <button
                          type="button"
                          class="custom-add-btn add-field ml-2"
                          (click)="
                            noteValidation(i).controls['noteTask'].dirty &&
                            dailyUpdatesControls['notes'].valid
                              ? onAddTaks('addNote')
                              : (note = true)
                          "
                        >
                          <i class="fas fa-plus"></i>
                        </button>
                      </div>
                      <ng-container
                        *ngIf="
                          (note &&
                            noteValidation(i).controls['noteTask'].pristine) ||
                          (noteValidation(i).controls['noteTask'].touched &&
                            noteValidation(i).controls['noteTask'].invalid &&
                            noteValidation(i).controls['noteTask'].pristine)
                        "
                      >
                        <p class="err_list_of_pending_tasks text-danger">
                          Please fill this first
                        </p>
                      </ng-container>
                    </ng-container>
                  </div>
                </div>
              </div>

              <div class="form-group mb-0">
                <label class="form-label">Your Name</label>
                <input
                  type="text"
                  class="form-control"
                  name="your_name"
                  placeholder="Enter Client Name"
                  id="get_your_name"
                  formControlName="name"
                />
              </div>
            </form>
          </div>
          <div class="col-lg-6">
            <div class="right-side-content">
              <ng-container *ngIf="dailyUpdatesControls['projectName'].dirty">
                <div
                  id="email-subject"
                  class="email-subject d-flex justify-content-between"
                >
                  <p class="subject-style">
                    <span id="set_project_name"
                      >Updates for as on 18 January, 2023</span
                    >
                  </p>
                  <div id="h_copy_b" class="h_copy_b">
                    <button
                      class="custom-add-btn"
                      onclick="copyToClipboard('span#set_project_name')"
                    >
                      <i class="fa fa-clone"></i>
                    </button>
                  </div>
                  <p></p>
                </div>
                <ng-container *ngIf="dailyUpdatesControls['projectName'].dirty">
                  <div id="hr"><hr /></div>
                </ng-container>
              </ng-container>
              <div id="subject">
                <h4 *ngIf="dailyUpdatesControls['clientName'].dirty">
                  <span id="set_client_name"
                    >Hi {{ dailyUpdates.value.clientName }},</span
                  >
                </h4>
                <ng-container>
                  <p
                    class="subject-style"
                    *ngIf="dailyUpdatesControls['projectName'].dirty"
                  >
                    <span id="set_project_name_f"
                      >Following are the updates for
                      {{ dailyUpdates.value.projectName }} as on 18 January,
                      2023</span
                    >
                  </p>
                </ng-container>
                <br />
                <ng-container
                  *ngIf="dailyUpdatesControls['completeTask'].dirty"
                >
                  <div id="lct_msg" [ngStyle]="{'display': dailyUpdatesControls['completeTask'].dirty ? 'block' : 'none'}">
                    <u
                      ><b><br />List of completed tasks:</b></u
                    >
                  </div>
                  <div>
                    <ng-container
                      *ngFor="
                        let completetask of completeTasks.value;
                        let i = index
                      "
                    >
                      <ng-container
                        *ngIf="
                          completeTaskValidation(i).controls['completeingTask']
                            .dirty
                        "
                      >
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        <b
                          >{{ i + 1 }}.
                          {{ completetask.completeingTask }} [Done]</b
                        ><br />
                      </ng-container>
                    </ng-container>
                  </div>
                </ng-container>
                <ng-container
                  *ngIf="dailyUpdatesControls['inProgressTask'].dirty"
                >
                  <div id="lct_msg">
                    <u
                      ><b><br />List of tasks in progress:</b></u
                    >
                  </div>
                  <div>
                    <ng-container
                      *ngFor="
                        let inProgressTask of inProgressTasks.value;
                        let i = index
                      "
                    >
                      <ng-container
                        *ngIf="
                          inProgressTaskValidation(i).controls[
                            'inProgressingTask'
                          ].dirty
                        "
                      >
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        <b
                          >{{ i + 1 }}.
                          {{ inProgressTask.inProgressingTask }}</b
                        ><br />
                      </ng-container>
                    </ng-container>
                  </div>
                </ng-container>
                <ng-container *ngIf="dailyUpdatesControls['pendingTask'].dirty">
                  <div id="lct_msg">
                    <u
                      ><b><br />List of pending tasks:</b></u
                    >
                  </div>
                  <div>
                    <ng-container
                      *ngFor="let pendingtask of pendinged.value; let i = index"
                    >
                      <ng-container
                        *ngIf="
                          pendingTaskValidation(i).controls['pendingTasking']
                            .dirty
                        "
                      >
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        <b>{{ i + 1 }}. {{ pendingtask.pendingTasking }}</b
                        ><br />
                      </ng-container>
                    </ng-container>
                  </div>
                </ng-container>
                <ng-container *ngIf="dailyUpdatesControls['queries'].dirty">
                  <div id="queries_msg">
                    <u
                      ><b><br />Queries: </b></u
                    >
                  </div>
                  <div>
                    <ng-container
                      *ngFor="let query of quered.value; let i = index"
                    >
                      <ng-container
                        *ngIf="
                          queriesValidation(i).controls['queriesTask'].dirty
                        "
                      >
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        {{ i + 1 }}. {{ query.queriesTask }}<br />
                      </ng-container>
                    </ng-container>
                  </div>
                </ng-container>
                <ng-container *ngIf="dailyUpdatesControls['notes'].dirty">
                  <div id="notes_msg">
                    <u
                      ><b><br />Notes: </b></u
                    >
                  </div>
                  <div>
                    <ng-container
                      *ngFor="let noteTasks of noted.value; let i = index"
                    >
                      <ng-container
                        *ngIf="noteValidation(i).controls['noteTask'].dirty"
                      >
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        {{ i + 1 }}. {{ noteTasks.noteTask }}<br />
                      </ng-container>
                    </ng-container>
                  </div>
                </ng-container>
                <ng-container
                  *ngIf="dailyUpdatesControls['completeTask'].dirty"
                >
                  <p id="thoughts_msg">
                    Please check with the latest updates and let us know your
                    thoughts for the same.
                  </p>
                </ng-container>
                <ng-container *ngIf="dailyUpdatesControls['name'].dirty">
                  <div
                    class="thanks"
                    [ngStyle]="{
                      display:
                        dailyUpdatesControls['name'].dirty &&
                        dailyUpdatesControls['name'].valid
                          ? 'block'
                          : 'none'
                    }"
                  >
                    <span>Thanks,</span>
                    <b
                      ><h5 id="set_your_name">
                        {{ dailyUpdates.value.name }}
                      </h5></b
                    >
                  </div>
                </ng-container>
              </div>
              <div id="b_copy_b"></div>
              <div id="mydiv2"></div>
            </div>
          </div>
        </div>
      </div>
    </section>
  </div>
</div>
