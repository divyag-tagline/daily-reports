<div class="tab-content" id="myTabContent">
  <div
    class="tab-pane fade active show"
    id="home"
    role="tabpanel"
    aria-labelledby="home-tab"
  >
    <div class="update-label">
      <h2>Registraion Form</h2>
    </div>
    <section class="background-img justify-content-center">
      <div class="container mx-auto px-auto justify-content-center">
        <div class="row mb-4 d-flex">
          <div class="col-lg-6">
            <div class="card">
              <div class="card-body">
                <form [formGroup]="userDetails">
                  <div class="mb-3 row">
                    <label for="name" class="col-sm-2 col-form-label"
                      >Name</label
                    >
                    <div class="col-sm-6">
                      <input
                        type="text"
                        class="form-control"
                        id="name"
                        name="name"
                        formControlName="name"
                      />
                    </div>
                    <span
                      class="text-danger"
                      *ngIf="
                        (useDetailsControls['name'].touched &&
                          useDetailsControls['name'].pristine) ||
                        (submitted &&
                          useDetailsControls['name'].pristine &&
                          useDetailsControls['name'].invalid)
                      "
                    >
                      Name is required
                    </span>
                  </div>
                  <div class="mb-3 row">
                    <label for="userName" class="col-sm-2 col-form-label"
                      >Username</label
                    >
                    <div class="col-sm-6">
                      <input
                        type="text"
                        class="form-control"
                        id="username"
                        name="username"
                        formControlName="username"
                      />
                    </div>
                    <span
                      class="text-danger"
                      *ngIf="
                        (useDetailsControls['username'].touched &&
                          useDetailsControls['username'].pristine) ||
                        (submitted &&
                          useDetailsControls['username'].pristine &&
                          useDetailsControls['username'].invalid)
                      "
                    >
                      Username is required
                    </span>
                  </div>
                  <div class="mb-3 row">
                    <label for="email" class="col-sm-2 col-form-label"
                      >Email</label
                    >
                    <div class="col-sm-6">
                      <input
                        type="email"
                        class="form-control"
                        id="email"
                        pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$"
                        name="email"
                        formControlName="email"
                      />
                    </div>
                    <span
                      class="text-danger"
                      *ngIf="
                        (useDetailsControls['email'].touched &&
                          useDetailsControls['email'].pristine) ||
                        (submitted &&
                          useDetailsControls['email'].pristine &&
                          useDetailsControls['email'].invalid)
                      "
                    >
                      Email is required
                    </span>
                    <!-- <span *ngIf="useDetailsControls['email']?.errors.['required']">
    
                    </span> -->
                  </div>
                  <div class="mb-3 row">
                    <label for="phone" class="col-sm-2 col-form-label"
                      >Phone</label
                    >
                    <div class="col-sm-6">
                      <input
                        type="text"
                        class="form-control"
                        id="phone"
                        name="phone"
                        formControlName="phone"
                      />
                    </div>
                    <span
                      class="text-danger"
                      *ngIf="
                        (useDetailsControls['phone'].touched &&
                          useDetailsControls['phone'].pristine) ||
                        (submitted &&
                          useDetailsControls['phone'].pristine &&
                          useDetailsControls['phone'].invalid)
                      "
                    >
                      Phone is required
                    </span>
                  </div>
                </form>
              </div>
              <div class="card-footer">
                <button
                  class="btn btn-info text-white w-100"
                  (click)="addUser()"
                >
                  submit
                </button>
              </div>
            </div>
          </div>
          <div class="col-lg-6">
            <table class="table table-striped">
              <thead>
                <tr>
                  <th>Name</th>
                  <th>UsersName</th>
                  <th>Email</th>
                  <th>Phone</th>
                  <th>Action</th>
                </tr>
              </thead>
              <tbody>
                <ng-container *ngFor="let userData of usersData; let i = index">
                  <tr>
                    <td>{{ userData.name }}</td>
                    <td>{{ userData.username }}</td>
                    <td>{{ userData.email }}</td>
                    <td>{{ userData.phone }}</td>
                    <td>
                      <button
                        class="btn btn-outline-success"
                        (click)="handleEdit(userData, i)"
                      >
                        Edit
                      </button>
                      <button
                      class="btn btn-outline-success"
                      (click)="handlePatch(userData, i)"
                    >
                      Patch
                    </button>
                      <button
                        class="btn btn-outline-danger"
                        (click)="handleDelete(i)"
                      >
                        Delete
                      </button>
                    </td>
                  </tr>
                </ng-container>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </section>
  </div>
</div>
